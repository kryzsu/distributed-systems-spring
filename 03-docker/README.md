# docker


![docker main flow](https://www.planttext.com/api/plantuml/svg/RL9DRu904BtlhvXmQW-aDYOUJ3GrWeQ43mishL53K5ROk0o6NJIcwN_l2eAjxOdPcJTltWplHSYea6N6YMIIKp3oxPuMa4KCOSVp4pmeWAJYaP0g09ycJCZYJ0ZcwgbDVCy1yyCAvfOx3IrdD3LNEFPc2vXOjXciq7zpLS8nD8W4kC-a8OefD64zTCSuRJ9QNEkWc32aLQl2moS1kCee4HacunobaagBjX38_43ZMvvyDPmiYn8reFg0hW__SFJXEhKeiTukH-0Czq1qFQOosgQmGXLZbD71SjlqXPVtkYvHF0uqPn6ysg7lUVDmDWg2Tyyt1ili71uY8Kvv4Q-r6dmeDvo957gzJhVVxNPwTVgOyr8DU9fujc7wX68C5pM4t0i6tMT9AjKgTrj3kufG1HXxxdnakQOVkYF79FTWtQOx-SyzeD-IA8_SioWvLok0wgsksauzb9n3vOKQUxtvi7NF3wH82RaPeFenlyas9UCnUL5dK3Rz1W00)

## using existing docker image

pulling the image from the official dockerhub repository

```shell
docker pull mysql/mysql-server:latest
```

checking the image locally

```shell
docker image ls
```

start the server in detached mode 

* without password (The password generated by docker image itself.)

```
docker run --name=mysql -d mysql/mysql-server
```

* with password

```
docker run --name=mysql -d mysql/mysql-server -e MYSQL_ROOT_PASSWORD=my-secret-pw
```

where my-secret-pw is your secret pwd.


checking the running docker container
```
docker ps
```

```
docker logs mysql
```

find the line `GENERATED ROOT PASSWORD:` and copy that into the clipboard

Try the password and mysql connection in the running docker image.

```
docker exec -it mysql bash
```

You will get a new command prompt.

Try to login using the prevoiusly copied password (from clipboard), or your pwd

```
mysql -uroot -p
```

## create docker image

create the Dockerfile (openjdk:11-jdk can be the base image)

```dockerfile
FROM openjdk:8-jdk-alpine
VOLUME /tmp
ARG JAR_FILE
COPY ${JAR_FILE} app.jar
ENTRYPOINT ["java","-jar","/app.jar"]
```
